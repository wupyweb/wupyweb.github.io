<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  

  
  <title>wufujie</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
  
  
  <meta property="og:type" content="website">
<meta property="og:title" content="wufujie">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="wufujie">
<meta property="og:locale" content="zh">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="wufujie">
  
    <link rel="alternate" href="/atom.xml" title="wufujie" type="application/atom+xml">
  
  
    <link rel="icon" href="/images/default-avatar.webp">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/css/highlight.css">
</head>
</html>
<body>
  <div id="fullpage" class="mobile-nav-right">
    
      <div id="wrapper" title="图片来自网络">
    
    
      <header id="header">
  <div id="nav-toggle" class="nav-toggle"></div>
  <div class="head-box global-width">
    <nav class="nav-box nav-right">
      
        <a class="nav-item" href="/" title="">首页</a>
      
        <a class="nav-item" href="/archives" title="">归档</a>
      
        <a class="nav-item" href="/music" title="">听音乐</a>
      
    </nav>
  </div>
</header>
      <div id="middlecontent" title class="global-width sidebar-right">
        <section id="main">
  
    <article id="post-HTML入门" class="article global-container article-type-post" itemscope="" itemprop="blogPost">
  
    <header class="article-header">
      
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/01/21/HTML入门/">HTML入门</a>
    </h1>
  

    </header>
  
  <div class="article-meta">
    <a href="/2019/01/21/HTML入门/" class="article-date">
  <time datetime="2019-01-21T04:15:34.000Z" itemprop="datePublished">2019-01-21</time>
</a>
    
    
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/html/">html</a></li></ul>

  </div>
  

  <div class="article-inner">
    
    <div class="article-content article-content-cloud" itemprop="articleBody">
      
        <p><a href="http://note.youdao.com/noteshare?id=2920ae5539f16d9908a0b051eb9b3fee&amp;sub=33424C1E7C28456BB2C96E94A6630D0A" target="_blank" rel="noopener">HTML入门</a></p>

      
    </div>
    
  </div>
  
  
</article>

  
    <article id="post-python之queue模块" class="article global-container article-type-post" itemscope="" itemprop="blogPost">
  
    <header class="article-header">
      
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/01/16/python之queue模块/">python之queue模块</a>
    </h1>
  

    </header>
  
  <div class="article-meta">
    <a href="/2019/01/16/python之queue模块/" class="article-date">
  <time datetime="2019-01-16T14:25:44.000Z" itemprop="datePublished">2019-01-16</time>
</a>
    
    
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/python/">python</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/queue/">queue</a></li></ul>

  </div>
  

  <div class="article-inner">
    
    <div class="article-content article-content-cloud" itemprop="articleBody">
      
        <h3 id="Queue提供的方法："><a href="#Queue提供的方法：" class="headerlink" title="Queue提供的方法："></a>Queue提供的方法：</h3><h4 id="Queue-empty"><a href="#Queue-empty" class="headerlink" title="Queue.empty()"></a><code>Queue.empty()</code></h4><p>如果队列为空，返回True，否则返回False。如果empty()返回True，它不保证后续调用put()不会阻塞。类似的，如果empty()返回False也不能保证接下来的get()调用不会被阻塞。</p>
<h4 id="Queue-put-item-block-True-timeout-None"><a href="#Queue-put-item-block-True-timeout-None" class="headerlink" title="Queue.put(item, block=True, timeout=None)"></a><code>Queue.put(item, block=True, timeout=None)</code></h4><p>将item放入队列中。如果可选的参数block为True且timeout为None（默认的情况，阻塞调用，无超时），如有必要（比如队列满），阻塞调用线程，直到有空闲槽可用。如果超时是正数，则它最多阻塞超时秒，如果在该时间内没有空闲插槽，则引发Full异常。如果block为False，如果有空闲槽可用将数据放入队列，否则立即抛出Full异常（非阻塞调用，timeout被忽略）。</p>
<h4 id="Queue-put-nowait-item"><a href="#Queue-put-nowait-item" class="headerlink" title="Queue.put_nowait(item)"></a><code>Queue.put_nowait(item)</code></h4><p>等同于put(item, block=False)（非阻塞调用）。</p>
<h4 id="Queue-get-block-True-timeout-None"><a href="#Queue-get-block-True-timeout-None" class="headerlink" title="Queue.get(block=True, timeout=None)"></a><code>Queue.get(block=True, timeout=None)</code></h4><p>从队列中移除并返回一个数据。如果可选的参数block为True且timeout为None（默认的情况，阻塞调用，无超时），阻塞调用进程直到有数据可用。如果超时是正数，则它最多阻塞超时秒，如果在该时间内没有可用的项，则引发Empty异常。如果block为False，如果有数据可用返回数据，否则立即抛出Empty异常（非阻塞调用，timeout被忽略）。</p>
<h4 id="Queue-get-nowait"><a href="#Queue-get-nowait" class="headerlink" title="Queue.get_nowait()"></a><code>Queue.get_nowait()</code></h4><p>等同于get(block=False)（非阻塞调用）。</p>
<h4 id="Queue-task-done"><a href="#Queue-task-done" class="headerlink" title="Queue.task_done()"></a><code>Queue.task_done()</code></h4><p>意味着之前入队的一个任务已经完成。由队列的消费者线程调用。每一个get()调用得到一个任务，接下来的task_done()调用告诉队列该任务已经处理完毕。</p>
<p>If a join() is currently blocking, it will resume when all items have been processed (meaning that a task_done() call was received for every item that had been put() into the queue).</p>
<p>如果该方法被调用的次数多于被放入队列中的任务的个数，ValueError异常会被抛出。</p>
<h4 id="Queue-join"><a href="#Queue-join" class="headerlink" title="Queue.join()"></a><code>Queue.join()</code></h4><p>阻塞调用线程，直到队列中的所有任务被处理掉.</p>
<p>只要有数据被加入队列，未完成的任务数就会增加。当消费者线程调用task_done()以指示该项目已检索并且其上的所有工作都已完成时，计数将减少。当未完成的任务数降到0，join()解除阻塞。</p>
<h3 id="生产者与消费者"><a href="#生产者与消费者" class="headerlink" title="生产者与消费者"></a>生产者与消费者</h3><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line">import queue</span><br><span class="line">import time</span><br><span class="line">import random</span><br><span class="line">from threading import Thread</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">class Producer(Thread):</span><br><span class="line">    def __init__(self, queue):</span><br><span class="line">        super().__init__()</span><br><span class="line">        self.queue = queue</span><br><span class="line"></span><br><span class="line">    def run(self):</span><br><span class="line">        producers = [&apos;A&apos;, &apos;B&apos;]</span><br><span class="line">        while True:</span><br><span class="line">            for name in producers:</span><br><span class="line">                i = random.randint(10000, 30000)</span><br><span class="line">                print(&apos;%s produced %d&apos; % (name, i))</span><br><span class="line">                self.queue.put(i)</span><br><span class="line">                time.sleep(3)</span><br><span class="line">            time.sleep(1)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">class Customer(Thread):</span><br><span class="line">    def __init__(self, queue):</span><br><span class="line">        super().__init__()</span><br><span class="line">        self.queue = queue</span><br><span class="line"></span><br><span class="line">    def run(self):</span><br><span class="line">        customers = [&apos;Customer1&apos;, &apos;Customer2&apos;, &apos;Customer3&apos;, &apos;Customer4&apos;]</span><br><span class="line">        while True:</span><br><span class="line">            for name in customers:</span><br><span class="line">                r = self.queue.get()</span><br><span class="line">                print(&apos;%d is customed by %s&apos; % (r, name))</span><br><span class="line">                queue.task_done()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">if __name__ == &apos;__main__&apos;:</span><br><span class="line">    queue = queue.Queue()</span><br><span class="line">    p_t = []</span><br><span class="line">    c_t = []</span><br><span class="line">    # 启用两个生产者线程</span><br><span class="line">    for i in range(2):</span><br><span class="line">        producer = Producer(queue)</span><br><span class="line">        p_t.append(producer)</span><br><span class="line">        producer.start()</span><br><span class="line"></span><br><span class="line">    # 启用三个消费者线程</span><br><span class="line">    for i in range(3):</span><br><span class="line">        customer = Customer(queue)</span><br><span class="line">        c_t.append(customer)</span><br><span class="line">        customer.start()</span><br><span class="line"></span><br><span class="line">    # 消费者与生产者类都用了死循环，后面这些代码是运行不到的</span><br><span class="line">    queue.join()</span><br><span class="line">    for p in p_t:</span><br><span class="line">        p.join()</span><br><span class="line">    for c in c_t:</span><br><span class="line">        c.join()</span><br><span class="line">    print(&apos;FINISH&apos;)</span><br></pre></td></tr></table></figure></div>
<h3 id="参考文章"><a href="#参考文章" class="headerlink" title="参考文章"></a>参考文章</h3><p><a href="https://www.cnblogs.com/God-Li/p/7745408.html" target="_blank" rel="noopener">queue模块使用</a></p>

      
    </div>
    
  </div>
  
  
</article>

  
    <article id="post-python之logging模块" class="article global-container article-type-post" itemscope="" itemprop="blogPost">
  
    <header class="article-header">
      
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/01/15/python之logging模块/">python之logging模块</a>
    </h1>
  

    </header>
  
  <div class="article-meta">
    <a href="/2019/01/15/python之logging模块/" class="article-date">
  <time datetime="2019-01-15T15:38:41.000Z" itemprop="datePublished">2019-01-15</time>
</a>
    
    
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/logging/">logging</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/python/">python</a></li></ul>

  </div>
  

  <div class="article-inner">
    
    <div class="article-content article-content-cloud" itemprop="articleBody">
      
        <h2 id="基础使用"><a href="#基础使用" class="headerlink" title="基础使用"></a>基础使用<br></h2><h3 id="打印一条简单日志"><a href="#打印一条简单日志" class="headerlink" title="打印一条简单日志"></a>打印一条简单日志</h3><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">import logging</span><br><span class="line">logging.warning(&apos;Watch out!&apos;)  # will print a message to the console</span><br><span class="line">logging.info(&apos;I told you so&apos;)  # will not print anything</span><br></pre></td></tr></table></figure></div>
<p>你将会看到<br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">WARNING:root:Watch out!</span><br></pre></td></tr></table></figure></div></p>
<p><code>logging</code>默认的日志等级是<code>WARNING</code>，低于这个等级的日志将不会被打印。<br><br>日志等级从高到低分别为：CRITICAL&gt;ERROR&gt;WARNING&gt;INFO&gt;DEBUG</p>
<h3 id="将日志写入文件"><a href="#将日志写入文件" class="headerlink" title="将日志写入文件"></a>将日志写入文件</h3><p>通过<code>logging.basicConfig</code>定义日志的输出格式及日志等级<br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">logging.basicConfig(</span><br><span class="line">    format=&apos;%(asctime)s - %(filename)s - %(levelname)s - %(message)s&apos;,</span><br><span class="line">    filename=&apos;log.txt&apos;,</span><br><span class="line">    filemode=&apos;w&apos;,</span><br><span class="line">    level=logging.INFO</span><br><span class="line">)</span><br><span class="line">logging.warning(&apos;is when this event was logged.&apos;)</span><br></pre></td></tr></table></figure></div></p>
<h2 id="进阶"><a href="#进阶" class="headerlink" title="进阶"></a>进阶</h2><p>logging框架中主要由四个部分组成：</p>
<ul>
<li>Loggers: 可供程序直接调用的接口</li>
<li>Handlers: 决定将日志记录分配至正确的目的地</li>
<li>Filters: 提供更细粒度的日志是否输出的判断</li>
<li>Formatters: 制定最终记录打印的格式布局</li>
</ul>
<p>看看具体怎么使用使用<br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"># 创建一个logger</span><br><span class="line">logger = logging.getLogger(&apos;mylogger&apos;)</span><br><span class="line">logger.setLevel(level=logging.INFO)</span><br><span class="line"></span><br><span class="line"># 创建一个handler，用于将日志输出到控制台</span><br><span class="line">ha = logging.StreamHandler()</span><br><span class="line">ha.setLevel(level=logging.INFO)</span><br><span class="line"></span><br><span class="line"># 再创建一个handler，用于输出到文件</span><br><span class="line">hf = logging.FileHandler(&apos;log.txt&apos;, encoding=&apos;utf-8&apos;)</span><br><span class="line">hf.setLevel(level=logging.INFO)</span><br><span class="line"></span><br><span class="line"># 定义handle的输出格式</span><br><span class="line">formatter = logging.Formatter(&apos;%(asctime)s - %(filename)s - %(levelname)s - %(message)s&apos;)</span><br><span class="line">ha.setFormatter(formatter)</span><br><span class="line">hf.setFormatter(formatter)</span><br><span class="line"></span><br><span class="line"># 给logger添加handler</span><br><span class="line">logger.addHandler(ha)</span><br><span class="line">logger.addHandler(hf)</span><br><span class="line"></span><br><span class="line"># 记录一条日志</span><br><span class="line">logger.info(&apos;do something&apos;)</span><br></pre></td></tr></table></figure></div></p>
<p>我们把它封装成一个类，然后再测试一下</p>
<div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">class MyLogger:</span><br><span class="line">    def __init__(self, logger_name, filename, log_level):</span><br><span class="line">        # 创建一个logger</span><br><span class="line">        self.logger = logging.getLogger(logger_name)</span><br><span class="line">        self.logger.setLevel(level=log_level)</span><br><span class="line"></span><br><span class="line">        # 创建一个handler，用于输出到控制台</span><br><span class="line">        self.hs = logging.StreamHandler()</span><br><span class="line">        self.hs.setLevel(level=log_level)</span><br><span class="line"></span><br><span class="line">        # 创建一个handler，用于输出到文件</span><br><span class="line">        self.hf = logging.FileHandler(filename=filename)</span><br><span class="line">        self.hf.setLevel(level=log_level)</span><br><span class="line"></span><br><span class="line">        # 定义handle的输出格式</span><br><span class="line">        self.formatter = logging.Formatter(&apos;%(asctime)s - %(name)s - %(filename)s - %(levelname)s - %(message)s&apos;)</span><br><span class="line">        self.hs.setFormatter(self.formatter)</span><br><span class="line">        self.hf.setFormatter(self.formatter)</span><br><span class="line"></span><br><span class="line">        # 给logger添加handler</span><br><span class="line">        self.logger.addHandler(self.hs)</span><br><span class="line">        self.logger.addHandler(self.hf)</span><br><span class="line"></span><br><span class="line">    def get_logger(self):</span><br><span class="line">        return self.logger</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">level = &#123;</span><br><span class="line">    1: logging.DEBUG,</span><br><span class="line">    2: logging.INFO,</span><br><span class="line">    3: logging.WARNING,</span><br><span class="line">    4: logging.ERROR,</span><br><span class="line">    5: logging.CRITICAL,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">logger = MyLogger(&apos;my_logger&apos;, &apos;log.txt&apos;, level[1]).get_logger()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def log_test():</span><br><span class="line">    try:</span><br><span class="line">        10/0</span><br><span class="line">    except Exception as e:</span><br><span class="line">        logger.error(e)</span><br><span class="line">    finally:</span><br><span class="line">        logger.info(&apos;END&apos;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">log_test()</span><br><span class="line">&apos;&apos;&apos;</span><br><span class="line">2019-01-15 23:35:10,989 - my_logger - logging_test.py - WARNING - division by zero</span><br><span class="line">2019-01-15 23:35:10,993 - my_logger - logging_test.py - INFO - END</span><br><span class="line">&apos;&apos;&apos;</span><br></pre></td></tr></table></figure></div>
<h2 id="参考文章"><a href="#参考文章" class="headerlink" title="参考文章"></a>参考文章</h2><p><a href="https://www.cnblogs.com/goodhacker/p/3355660.html" target="_blank" rel="noopener">python标准日志模块logging及日志系统设计</a></p>

      
    </div>
    
  </div>
  
  
</article>

  
    <article id="post-centos7-yum基本使用及更换清华源" class="article global-container article-type-post" itemscope="" itemprop="blogPost">
  
    <header class="article-header">
      
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/01/02/centos7-yum基本使用及更换清华源/">centos7 yum基本使用及更换清华源</a>
    </h1>
  

    </header>
  
  <div class="article-meta">
    <a href="/2019/01/02/centos7-yum基本使用及更换清华源/" class="article-date">
  <time datetime="2019-01-01T16:58:21.000Z" itemprop="datePublished">2019-01-02</time>
</a>
    
    
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/centos7/">centos7</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/yum/">yum</a></li></ul>

  </div>
  

  <div class="article-inner">
    
    <div class="article-content article-content-cloud" itemprop="articleBody">
      
        <h2 id="yum使用"><a href="#yum使用" class="headerlink" title="yum使用"></a>yum使用</h2><p>yum [options] [command] [package …]</p>
<h3 id="常用命令"><a href="#常用命令" class="headerlink" title="常用命令"></a>常用命令</h3><p>1，安装软件（以yoo为例）<br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install yoo.rpm</span><br></pre></td></tr></table></figure></div></p>
<p>2，删除软件<br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum remove yoo.rpm</span><br></pre></td></tr></table></figure></div></p>
<p>3，查询信息<br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum search yoo</span><br></pre></td></tr></table></figure></div></p>
<p>4，显示软件包依赖关系<br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum deplist yoo</span><br></pre></td></tr></table></figure></div></p>
<p>5，检查可更新包<br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum check-update</span><br></pre></td></tr></table></figure></div></p>
<p>6，可安装和更新的rpm包<br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum list</span><br></pre></td></tr></table></figure></div></p>
<p>7，已安装的包<br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum list installed</span><br></pre></td></tr></table></figure></div></p>
<h3 id="可选项"><a href="#可选项" class="headerlink" title="可选项"></a>可选项</h3><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">-e 静默执行</span><br><span class="line"></span><br><span class="line">-t 忽略错误</span><br><span class="line"></span><br><span class="line">-R [分钟] 设置等待命令执行结束的最大时间</span><br><span class="line"></span><br><span class="line">-y 自动应答，在执行 yum 操作时不需要用户交互确认</span><br><span class="line"></span><br><span class="line">--skip-broken 忽略依赖问题</span><br><span class="line"></span><br><span class="line">--nogpgcheck 忽略 GPG 校验过程</span><br></pre></td></tr></table></figure></div>
<h2 id="更换清华源"><a href="#更换清华源" class="headerlink" title="更换清华源"></a>更换清华源</h2><p>清华源参考：<a href="https://mirrors.tuna.tsinghua.edu.cn/help/centos/" target="_blank" rel="noopener">https://mirrors.tuna.tsinghua.edu.cn/help/centos/</a></p>
<p>首先备份 <code>CentOS-Base.repo</code><br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mv /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.bak</span><br></pre></td></tr></table></figure></div></p>
<p>之后启用 TUNA 软件仓库， 将以下内容写入 <code>/etc/yum.repos.d/CentOS-Base.repo</code><br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/yum.repos.d/CentOS-Base.repo</span><br></pre></td></tr></table></figure></div></p>
<div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"># CentOS-Base.repo</span><br><span class="line">#</span><br><span class="line"># The mirror system uses the connecting IP address of the client and the</span><br><span class="line"># update status of each mirror to pick mirrors that are updated to and</span><br><span class="line"># geographically close to the client.  You should use this for CentOS updates</span><br><span class="line"># unless you are manually picking other mirrors.</span><br><span class="line">#</span><br><span class="line"># If the mirrorlist= does not work for you, as a fall back you can try the</span><br><span class="line"># remarked out baseurl= line instead.</span><br><span class="line">#</span><br><span class="line">#</span><br><span class="line"></span><br><span class="line">[base]</span><br><span class="line">name=CentOS-$releasever - Base</span><br><span class="line">baseurl=https://mirrors.tuna.tsinghua.edu.cn/centos/$releasever/os/$basearch/</span><br><span class="line">#mirrorlist=http://mirrorlist.centos.org/?release=$releasever&amp;arch=$basearch&amp;repo=os</span><br><span class="line">gpgcheck=1</span><br><span class="line">gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-7</span><br><span class="line"></span><br><span class="line">#released updates</span><br><span class="line">[updates]</span><br><span class="line">name=CentOS-$releasever - Updates</span><br><span class="line">baseurl=https://mirrors.tuna.tsinghua.edu.cn/centos/$releasever/updates/$basearch/</span><br><span class="line">#mirrorlist=http://mirrorlist.centos.org/?release=$releasever&amp;arch=$basearch&amp;repo=updates</span><br><span class="line">gpgcheck=1</span><br><span class="line">gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-7</span><br><span class="line"></span><br><span class="line">#additional packages that may be useful</span><br><span class="line">[extras]</span><br><span class="line">name=CentOS-$releasever - Extras</span><br><span class="line">baseurl=https://mirrors.tuna.tsinghua.edu.cn/centos/$releasever/extras/$basearch/</span><br><span class="line">#mirrorlist=http://mirrorlist.centos.org/?release=$releasever&amp;arch=$basearch&amp;repo=extras</span><br><span class="line">gpgcheck=1</span><br><span class="line">gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-7</span><br><span class="line"></span><br><span class="line">#additional packages that extend functionality of existing packages</span><br><span class="line">[centosplus]</span><br><span class="line">name=CentOS-$releasever - Plus</span><br><span class="line">baseurl=https://mirrors.tuna.tsinghua.edu.cn/centos/$releasever/centosplus/$basearch/</span><br><span class="line">#mirrorlist=http://mirrorlist.centos.org/?release=$releasever&amp;arch=$basearch&amp;repo=centosplus</span><br><span class="line">gpgcheck=1</span><br><span class="line">enabled=0</span><br><span class="line">gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-7</span><br></pre></td></tr></table></figure></div>
<p>更新软件包缓存 <code>sudo yum makecache</code></p>

      
    </div>
    
  </div>
  
  
</article>

  
    <article id="post-git提交忽略文件或文件夹" class="article global-container article-type-post" itemscope="" itemprop="blogPost">
  
    <header class="article-header">
      
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/12/31/git提交忽略文件或文件夹/">git提交忽略文件或文件夹</a>
    </h1>
  

    </header>
  
  <div class="article-meta">
    <a href="/2018/12/31/git提交忽略文件或文件夹/" class="article-date">
  <time datetime="2018-12-30T16:10:33.000Z" itemprop="datePublished">2018-12-31</time>
</a>
    
    
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/git/">git</a></li></ul>

  </div>
  

  <div class="article-inner">
    
    <div class="article-content article-content-cloud" itemprop="articleBody">
      
        <p>如若我们不想把某些文件或文件夹添加到git仓库，我们需要在项目文件夹中新建一个<code>.gitignore</code>文件。<br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">touch .gitignore</span><br></pre></td></tr></table></figure></div></p>
<p>然后在文件中添加你要忽略的文件，比如<br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">/.idea/</span><br><span class="line">*.db</span><br><span class="line">.gitignore</span><br></pre></td></tr></table></figure></div></p>
<p>之后，我们再使用<code>git add .</code>命令时，git将不会添加我们在<code>.gitignore</code>中配置的文件。</p>
<p><hr><br>对于那些已经<code>commit</code>到缓存的文件，使用<code>git rm</code>命令移除。<br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git rm -r --cached ./.idea/</span><br><span class="line">git rm --cached db.sqlite3</span><br></pre></td></tr></table></figure></div></p>
<p>ok，现在我们来提交一次<br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git commit -m &quot;移除文件&quot;</span><br><span class="line">git push origin master</span><br></pre></td></tr></table></figure></div></p>
<p><code>push</code>之后，我们发现github上我们的仓库里已经没有上面删除的文件了。</p>

      
    </div>
    
  </div>
  
  
</article>

  
    <article id="post-hexo博客之域名绑定" class="article global-container article-type-post" itemscope="" itemprop="blogPost">
  
    <header class="article-header">
      
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/12/29/hexo博客之域名绑定/">hexo博客之域名绑定</a>
    </h1>
  

    </header>
  
  <div class="article-meta">
    <a href="/2018/12/29/hexo博客之域名绑定/" class="article-date">
  <time datetime="2018-12-29T15:57:35.000Z" itemprop="datePublished">2018-12-29</time>
</a>
    
    
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/hexo/">hexo</a></li></ul>

  </div>
  

  <div class="article-inner">
    
    <div class="article-content article-content-cloud" itemprop="articleBody">
      
        <p>买了域名实名认证之后，添加三条解析记录。<br>A    @    默认     192.30.252.154<br>A    @    默认     192.30.252.153<br>CNAME    www    默认     wupyweb.github.io<br><img src="https://i.loli.net/2018/12/29/5c279916269c6.png" alt="域名"><br>之后在根目录的source文件夹下新建CNAME文件，不带后缀，文件里的内容为自己的域名。<br>ok，重新部署一遍，你就发现能访问自己的域名了。</p>

      
    </div>
    
  </div>
  
  
</article>

  
    <article id="post-bash基础操作（转）" class="article global-container article-type-post" itemscope="" itemprop="blogPost">
  
    <header class="article-header">
      
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/12/27/bash基础操作（转）/">bash基础操作</a>
    </h1>
  

    </header>
  
  <div class="article-meta">
    <a href="/2018/12/27/bash基础操作（转）/" class="article-date">
  <time datetime="2018-12-27T14:55:34.000Z" itemprop="datePublished">2018-12-27</time>
</a>
    
    
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/bash/">bash</a></li></ul>

  </div>
  

  <div class="article-inner">
    
    <div class="article-content article-content-cloud" itemprop="articleBody">
      
        <h2 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h2><ol>
<li><a href="#1-基本操作">基本操作</a><br>1.1. <a href="#1-1-File-Operations">文件操作</a><br>1.2. <a href="#1-2-文本操作">文本操作</a><br>1.3. <a href="#1-3-Directory-Operations">目录操作</a><br>1.4. <a href="#1-4-Ssh-System-Info--Network-operations">SSH、系统信息和网络操作</a><br>1.5. <a href="#1-5-Process-Monitoring-Operations">进程监控操作</a></li>
<li><a href="#2-Basic-Shell-Programming">基本 shell 编程</a><br>2.1. <a href="#2-1-Variables">变量</a><br>2.2  <a href="#2-2-Array">数组</a><br>2.3. <a href="#2-3-String-Substitution">字符串替换</a><br>2.4. <a href="#2-4-Functions">函数</a><br>2.5. <a href="#2-5-Conditionals">条件语句</a><br>2.6. <a href="#2-6-Loops">循环语句</a></li>
<li><a href="#3-Tricks">小技巧</a></li>
<li><a href="#4-调试">调试</a></li>
</ol>
<h1 id="1-基本操作"><a href="#1-基本操作" class="headerlink" title="1. 基本操作"></a>1. 基本操作</h1><h3 id="a-export"><a href="#a-export" class="headerlink" title="a. export"></a>a. <code>export</code></h3><p>输出所有的环境变量。 如果你想查看某个特定变量的值，用<code>echo $VARIABLE_NAME</code><br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span></span><br></pre></td></tr></table></figure></div></p>
<p>示例：<br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">export</span></span><br><span class="line">AWS_HOME=/Users/adnanadnan/.aws</span><br><span class="line">LANG=en_US.UTF-8</span><br><span class="line">LC_CTYPE=en_US.UTF-8</span><br><span class="line">LESS=-R</span><br><span class="line"></span><br><span class="line">$ <span class="built_in">echo</span> <span class="variable">$AWS_HOME</span></span><br><span class="line">/Users/adnanadnan/.aws</span><br></pre></td></tr></table></figure></div></p>
<h3 id="b-whatis"><a href="#b-whatis" class="headerlink" title="b. whatis"></a>b. <code>whatis</code></h3><p>whatis 显示某个用户命令、系统调用或库函数的描述文档，或操作手册中存在的其他文档。<br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">whatis something</span><br></pre></td></tr></table></figure></div></p>
<p>示例：<br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ whatis bash</span><br><span class="line">bash (1)             - GNU Bourne-Again SHell</span><br></pre></td></tr></table></figure></div></p>
<h3 id="c-whereis"><a href="#c-whereis" class="headerlink" title="c. whereis"></a>c. <code>whereis</code></h3><p>whereis 查找可执行文件、源文件或者说明文档的位置，使用的是一个系统自动构建的数据库。<br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">whereis name</span><br></pre></td></tr></table></figure></div></p>
<p>示例：<br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ whereis php</span><br><span class="line">/usr/bin/php</span><br></pre></td></tr></table></figure></div></p>
<h3 id="d-which"><a href="#d-which" class="headerlink" title="d. which"></a>d. <code>which</code></h3><p>which 在环境变量 PATH 指定的所有文件夹中查找可执行文件的位置。它会打印出可执行文件的绝对路径。<br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">which</span> program_name</span><br></pre></td></tr></table></figure></div></p>
<p>示例：<br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">which</span> php</span><br><span class="line">/c/xampp/php/php</span><br></pre></td></tr></table></figure></div></p>
<h3 id="e-clear"><a href="#e-clear" class="headerlink" title="e. clear"></a>e. clear</h3><p>清空窗口中的内容。</p>
<h2 id="1-1-File-Operations"><a href="#1-1-File-Operations" class="headerlink" title="1.1. File Operations"></a>1.1. File Operations</h2><table><br>   <tr><br>      <td><a href="#a-cat">cat</a></td><br>      <td><a href="#b-chmod">chmod</a></td><br>      <td><a href="#c-chown">chown</a></td><br>      <td><a href="#d-cp">cp</a></td><br>      <td><a href="#e-diff">diff</a></td><br>      <td><a href="#f-file">file</a></td><br>      <td><a href="#g-find">find</a></td><br>      <td><a href="#h-gunzip">gunzip</a></td><br>      <td><a href="#i-gzcat">gzcat</a></td><br>      <td><a href="#j-gzip">gzip</a></td><br>      <td><a href="#k-head">head</a></td><br>   </tr><br>   <tr><br>      <td><a href="#l-lpq">lpq</a></td><br>      <td><a href="#m-lpr">lpr</a></td><br>      <td><a href="#n-lprm">lprm</a></td><br>      <td><a href="#o-ls">ls</a></td><br>      <td><a href="#p-more">more</a></td><br>      <td><a href="#q-mv">mv</a></td><br>      <td><a href="#r-rm">rm</a></td><br>      <td><a href="#s-tail">tail</a></td><br>      <td><a href="#t-touch">touch</a></td><br>   </tr><br></table>

<h3 id="a-cat"><a href="#a-cat" class="headerlink" title="a. cat"></a>a. <code>cat</code></h3><p>在 UNIX 和 Linux 中，它有以下几种用途</p>
<ul>
<li>把文本文件显示在屏幕上</li>
<li>复制文本文件</li>
<li>合并文本文件</li>
<li>创建新的文本文件<div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cat filename</span><br><span class="line">cat file1 file2</span><br><span class="line">cat file1 file2 &gt; newcombinedfile</span><br><span class="line">cat &lt; file1 &gt; file2 <span class="comment">#copy file1 to file2</span></span><br></pre></td></tr></table></figure></div>
</li>
</ul>
<h3 id="b-chmod"><a href="#b-chmod" class="headerlink" title="b. chmod"></a>b. <code>chmod</code></h3><p><code>chmod</code> 是 <code>change mod</code> 的意思，它用来改变文件或文件夹的读、写和执行权限。详细信息参见<a href="https://ss64.com/bash/chmod.html" target="_blank" rel="noopener">这个链接</a><br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod -options filename</span><br></pre></td></tr></table></figure></div></p>
<h3 id="c-chown"><a href="#c-chown" class="headerlink" title="c. chown"></a>c. <code>chown</code></h3><p><code>chown</code> 是 <code>change owner</code> 的意思，它用来改变一个文件或者文件夹的所有者，所有者可以是一个用户或一个用户组。<br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chown -options user:group filename</span><br></pre></td></tr></table></figure></div></p>
<h3 id="d-cp"><a href="#d-cp" class="headerlink" title="d. cp"></a>d. <code>cp</code></h3><p>把一个文件从一个位置复制到另外一个位置<br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp filename1 filename2</span><br></pre></td></tr></table></figure></div></p>
<p>上面 <code>filename1</code> 是源文件位置， <code>filename2</code> 是目标位置（精确到文件名）。</p>
<h3 id="e-diff"><a href="#e-diff" class="headerlink" title="e. diff"></a>e. <code>diff</code></h3><p>比对两个文件，输出他们的差异。<br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">diff filename1 filename2</span><br></pre></td></tr></table></figure></div></p>
<h3 id="f-file"><a href="#f-file" class="headerlink" title="f. file"></a>f. <code>file</code></h3><p>检测文件类型<br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">file filename</span><br></pre></td></tr></table></figure></div></p>
<p>示例：<br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ file index.html</span><br><span class="line"> index.html: HTML document, ASCII text</span><br></pre></td></tr></table></figure></div></p>
<h3 id="g-find"><a href="#g-find" class="headerlink" title="g. find"></a>g. <code>find</code></h3><p>在某个文件夹中用一定规则查找文件<br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find directory options pattern</span><br></pre></td></tr></table></figure></div></p>
<p>示例：<br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ find . -name README.md</span><br><span class="line">$ find /home/user1 -name <span class="string">'*.png'</span></span><br></pre></td></tr></table></figure></div></p>
<h3 id="h-gunzip"><a href="#h-gunzip" class="headerlink" title="h. gunzip"></a>h. <code>gunzip</code></h3><p>解压用 gzip 方法压缩的文件<br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gunzip filename</span><br></pre></td></tr></table></figure></div></p>
<h3 id="i-gzcat"><a href="#i-gzcat" class="headerlink" title="i. gzcat"></a>i. <code>gzcat</code></h3><p>在不解压的情况下，查看 gzip 压缩过的文件<br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gzcat filename</span><br></pre></td></tr></table></figure></div></p>
<h3 id="j-gzip"><a href="#j-gzip" class="headerlink" title="j. gzip"></a>j. <code>gzip</code></h3><p>压缩文件<br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gzip filename</span><br></pre></td></tr></table></figure></div></p>
<h3 id="k-head"><a href="#k-head" class="headerlink" title="k. head"></a>k. <code>head</code></h3><p>输出文件的前 10 行<br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">head filename</span><br></pre></td></tr></table></figure></div></p>
<h3 id="l-lpq"><a href="#l-lpq" class="headerlink" title="l. lpq"></a>l. <code>lpq</code></h3><p>输出打印机列表<br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lpq</span><br></pre></td></tr></table></figure></div></p>
<p>示例：<br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ lpq</span><br><span class="line">Rank    Owner   Job     File(s)                         Total Size</span><br><span class="line">active  adnanad 59      demo                            399360 bytes</span><br><span class="line">1st     adnanad 60      (stdin)                         0 bytes</span><br></pre></td></tr></table></figure></div></p>
<h3 id="m-lpr"><a href="#m-lpr" class="headerlink" title="m. lpr"></a>m. <code>lpr</code></h3><p>打印一个文件<br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lpr filename</span><br></pre></td></tr></table></figure></div></p>
<h3 id="n-lprm"><a href="#n-lprm" class="headerlink" title="n. lprm"></a>n. <code>lprm</code></h3><p>从打印机任务队列中移除某个任务<br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lprm jobnumber</span><br></pre></td></tr></table></figure></div></p>
<h3 id="o-ls"><a href="#o-ls" class="headerlink" title="o. ls"></a>o. <code>ls</code></h3><p>列出当前文件夹下所有文件。<code>ls</code> 有很多选项：<code>-l</code> 以详细信息格式列出文件，详细信息包括文件实际大小，文件所有者，可查看者，以及最后修改时间。<code>-a</code> 列出所有文件，包括隐藏文件。更多信息参见<a href="https://ss64.com/bash/ls.html" target="_blank" rel="noopener">这个链接</a><br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls option</span><br></pre></td></tr></table></figure></div></p>
<p>示例：</p>
<pre>
$ ls -la
rwxr-xr-x   33 adnan  staff    1122 Mar 27 18:44 .
drwxrwxrwx  60 adnan  staff    2040 Mar 21 15:06 ..
-rw-r--r--@  1 adnan  staff   14340 Mar 23 15:05 .DS_Store
-rw-r--r--   1 adnan  staff     157 Mar 25 18:08 .bumpversion.cfg
-rw-r--r--   1 adnan  staff    6515 Mar 25 18:08 .config.ini
-rw-r--r--   1 adnan  staff    5805 Mar 27 18:44 .config.override.ini
drwxr-xr-x  17 adnan  staff     578 Mar 27 23:36 .git
-rwxr-xr-x   1 adnan  staff    2702 Mar 25 18:08 .gitignore
</pre>

<h3 id="p-more"><a href="#p-more" class="headerlink" title="p. more"></a>p. <code>more</code></h3><p>输出一个文件的第一部分（用空格移动，按 q 退出）<br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">more filename</span><br></pre></td></tr></table></figure></div></p>
<h3 id="q-mv"><a href="#q-mv" class="headerlink" title="q. mv"></a>q. <code>mv</code></h3><p>把一个文件从一个位置移动到另一个位置<br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mv filename1 filename2</span><br></pre></td></tr></table></figure></div></p>
<p>上面<code>filename1</code> 是源文件的路径， <code>filename2</code>是目标路径。（都精确到文件名）</p>
<p>它也可以用来重命名文件<br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mv old_name new_name</span><br></pre></td></tr></table></figure></div></p>
<h3 id="r-rm"><a href="#r-rm" class="headerlink" title="r. rm"></a>r. <code>rm</code></h3><p>删除一个文件<br><code>rm: directory: is a directory</code><br>如果想删除文件夹，需要添加 <code>r</code> 参数，这样会递归的删除文件夹内所有内容。可以使用 <code>f</code> 参数强制删除，略过确认环节。<br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rm filename</span><br></pre></td></tr></table></figure></div></p>
<h3 id="s-tail"><a href="#s-tail" class="headerlink" title="s. tail"></a>s. <code>tail</code></h3><p>输出文件的最后 10 行。添加<code>-f</code>可以动态输出文件新添加的文本。<br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tail filename</span><br></pre></td></tr></table></figure></div></p>
<h3 id="t-touch"><a href="#t-touch" class="headerlink" title="t. touch"></a>t. <code>touch</code></h3><p>更新某个文件的访问和修改时间戳，如果文件不存在，将会被创建。<br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">touch filename</span><br></pre></td></tr></table></figure></div></p>
<p>示例：<br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ touch trick.md</span><br></pre></td></tr></table></figure></div></p>
<h2 id="1-2-文本操作"><a href="#1-2-文本操作" class="headerlink" title="1.2. 文本操作"></a>1.2. 文本操作</h2><table><br>    <tr><br>      <td><a href="#a-awk">awk</a></td><br>      <td><a href="#b-cut">cut</a></td><br>      <td><a href="#c-echo">echo</a></td><br>      <td><a href="#d-egrep">egrep</a></td><br>      <td><a href="#e-fgrep">fgrep</a></td><br>      <td><a href="#f-fmt">fmt</a></td><br>      <td><a href="#g-grep">grep</a></td><br>      <td><a href="#h-nl">nl</a></td><br>      <td><a href="#i-sed">sed</a></td><br>      <td><a href="#j-sort">sort</a></td><br>   </tr><br>   <tr><br>      <td><a href="#k-tr">tr</a></td><br>      <td><a href="#l-uniq">uniq</a></td><br>      <td><a href="#m-wc">wc</a></td><br>   </tr><br></table>

<h3 id="a-awk"><a href="#a-awk" class="headerlink" title="a. awk"></a>a. <code>awk</code></h3><p>awk 是文本操作最有用的命令。它按行处理整个文件，它默认用空格把每一行分隔成很多字段。最常用的语法是：</p>
<div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">awk <span class="string">'/search_pattern/ &#123; action_to_take_if_pattern_matches; &#125;'</span> file_to_parse</span><br></pre></td></tr></table></figure></div>
<p>以 <code>/etc/passwd</code> 文件为例，该文件包含以下数据：<br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">root:x:0:0:root:/root:/usr/bin/zsh</span><br><span class="line">daemon:x:1:1:daemon:/usr/sbin:/usr/sbin/nologin</span><br><span class="line">bin:x:2:2:bin:/bin:/usr/sbin/nologin</span><br><span class="line">sys:x:3:3:sys:/dev:/usr/sbin/nologin</span><br><span class="line">sync:x:4:65534:sync:/bin:/bin/sync</span><br></pre></td></tr></table></figure></div></p>
<p>我们想从这个文件中过滤出每一行的 username 部分。<code>-F</code> 参数用来指明用来把行内内容分隔的分隔符。这个例子中，我们用<code>:</code>来分隔。<code>{ print $1 }</code> 意思是输出行内第一个匹配的字段。<br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">awk -F<span class="string">':'</span> <span class="string">'&#123; print $1 &#125;'</span> /etc/passwd</span><br></pre></td></tr></table></figure></div></p>
<p>执行上面的命令之后，你会得到下面的输出。<br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">root</span><br><span class="line">daemon</span><br><span class="line">bin</span><br><span class="line">sys</span><br><span class="line">sync</span><br></pre></td></tr></table></figure></div></p>
<p>更多详细信息，参见<a href="https://www.cyberciti.biz/faq/bash-scripting-using-awk" target="_blank" rel="noopener">这个链接</a></p>
<h3 id="b-cut"><a href="#b-cut" class="headerlink" title="b. cut"></a>b. <code>cut</code></h3><p>按行从文件中摘取文本并输出</p>
<p><em>example.txt</em><br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">red riding hood went to the park to play</span><br></pre></td></tr></table></figure></div></p>
<p><em>用空格分隔每一行，并输出第2，7，9列</em><br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cut -d <span class="string">" "</span> -f2,7,9 example.txt</span><br></pre></td></tr></table></figure></div></p>
<div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">riding park play</span><br></pre></td></tr></table></figure></div>
<h3 id="c-echo"><a href="#c-echo" class="headerlink" title="c. echo"></a>c. <code>echo</code></h3><p>输出命令之后的文本到标准输出或文件</p>
<p><em>输出 “Hello World”</em><br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> Hello World</span><br></pre></td></tr></table></figure></div></p>
<div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Hello World</span><br></pre></td></tr></table></figure></div>
<p><em>输出 “Hello World”，单词间用换行符分隔</em><br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> -ne <span class="string">"Hello\nWorld\n"</span></span><br></pre></td></tr></table></figure></div></p>
<div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Hello</span><br><span class="line">World</span><br></pre></td></tr></table></figure></div>
<h3 id="d-egrep"><a href="#d-egrep" class="headerlink" title="d. egrep"></a>d. <code>egrep</code></h3><p>输出文件中匹配指定模式的行，是 grep 命令的扩展模式，支持更多正则表达式（等同于 <code>grep -E</code>）。</p>
<p><em>example.txt</em><br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">Lorem ipsum</span><br><span class="line">dolor sit amet,</span><br><span class="line">consetetur</span><br><span class="line">sadipscing elitr,</span><br><span class="line">sed diam nonumy</span><br><span class="line">eirmod tempor</span><br><span class="line">invidunt ut labore</span><br><span class="line">et dolore magna</span><br><span class="line">aliquyam erat, sed</span><br><span class="line">diam voluptua. At</span><br><span class="line">vero eos et</span><br><span class="line">accusam et justo</span><br><span class="line">duo dolores et ea</span><br><span class="line">rebum. Stet clita</span><br><span class="line">kasd gubergren,</span><br><span class="line">no sea takimata</span><br><span class="line">sanctus est Lorem</span><br><span class="line">ipsum dolor sit</span><br><span class="line">amet.</span><br></pre></td></tr></table></figure></div></p>
<p><em>输出包含 Lorem 或 dolor 的行</em><br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">egrep <span class="string">'(Lorem|dolor)'</span> example.txt</span><br><span class="line">or</span><br><span class="line">grep -E <span class="string">'(Lorem|dolor)'</span> example.txt</span><br></pre></td></tr></table></figure></div></p>
<div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Lorem ipsum</span><br><span class="line">dolor sit amet,</span><br><span class="line">et dolore magna</span><br><span class="line">duo dolores et ea</span><br><span class="line">sanctus est Lorem</span><br><span class="line">ipsum dolor sit</span><br></pre></td></tr></table></figure></div>
<h3 id="e-fgrep"><a href="#e-fgrep" class="headerlink" title="e. fgrep"></a>e. <code>fgrep</code></h3><p>输出文件中包含给定字符串的行，指定的模式将不被认做正则，而是字符串。（等同于：<code>grep -F</code>）</p>
<p><em>example.txt</em><br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">Lorem ipsum</span><br><span class="line">dolor sit amet,</span><br><span class="line">consetetur</span><br><span class="line">sadipscing elitr,</span><br><span class="line">sed diam nonumy</span><br><span class="line">eirmod tempor</span><br><span class="line">foo (Lorem|dolor)</span><br><span class="line">invidunt ut labore</span><br><span class="line">et dolore magna</span><br><span class="line">aliquyam erat, sed</span><br><span class="line">diam voluptua. At</span><br><span class="line">vero eos et</span><br><span class="line">accusam et justo</span><br><span class="line">duo dolores et ea</span><br><span class="line">rebum. Stet clita</span><br><span class="line">kasd gubergren,</span><br><span class="line">no sea takimata</span><br><span class="line">sanctus est Lorem</span><br><span class="line">ipsum dolor sit</span><br><span class="line">amet.</span><br></pre></td></tr></table></figure></div></p>
<ul>
<li>输出在 example.txt 中包含字符串 <code>(Lorem|dolor)</code> 的所有行*<div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">fgrep <span class="string">'(Lorem|dolor)'</span> example.txt</span><br><span class="line">or</span><br><span class="line">grep -F <span class="string">'(Lorem|dolor)'</span> example.txt</span><br></pre></td></tr></table></figure></div>
</li>
</ul>
<div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">foo (Lorem|dolor)</span><br></pre></td></tr></table></figure></div>
<h3 id="f-fmt"><a href="#f-fmt" class="headerlink" title="f. fmt"></a>f. <code>fmt</code></h3><p>简单的文本格式化工具</p>
<p><em>example: example.txt (1 行)</em><br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.</span><br></pre></td></tr></table></figure></div></p>
<p><em>把 example.txt 格式化为 20 个字符的宽度</em><br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat example.txt | fmt -w 20</span><br></pre></td></tr></table></figure></div></p>
<div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">Lorem ipsum</span><br><span class="line">dolor sit amet,</span><br><span class="line">consetetur</span><br><span class="line">sadipscing elitr,</span><br><span class="line">sed diam nonumy</span><br><span class="line">eirmod tempor</span><br><span class="line">invidunt ut labore</span><br><span class="line">et dolore magna</span><br><span class="line">aliquyam erat, sed</span><br><span class="line">diam voluptua. At</span><br><span class="line">vero eos et</span><br><span class="line">accusam et justo</span><br><span class="line">duo dolores et ea</span><br><span class="line">rebum. Stet clita</span><br><span class="line">kasd gubergren,</span><br><span class="line">no sea takimata</span><br><span class="line">sanctus est Lorem</span><br><span class="line">ipsum dolor sit</span><br><span class="line">amet.</span><br></pre></td></tr></table></figure></div>
<h3 id="g-grep"><a href="#g-grep" class="headerlink" title="g. grep"></a>g. <code>grep</code></h3><p>在文件中查找文本。你可以用 grep 去查找匹配一个或多个正则表达式的文本行，然后输出这些行。<br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep pattern  filename</span><br></pre></td></tr></table></figure></div></p>
<p>示例：<br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ grep admin /etc/passwd</span><br><span class="line">_kadmin_admin:*:218:-2:Kerberos Admin Service:/var/empty:/usr/bin/<span class="literal">false</span></span><br><span class="line">_kadmin_changepw:*:219:-2:Kerberos Change Password Service:/var/empty:/usr/bin/<span class="literal">false</span></span><br><span class="line">_krb_kadmin:*:231:-2:Open Directory Kerberos Admin Service:/var/empty:/usr/bin/<span class="literal">false</span></span><br></pre></td></tr></table></figure></div></p>
<p>你也可以通过 <code>-i</code> 参数强制忽略大小写。参数<code>-r</code>则被用来递归地查找指定文件夹下的所有文件，例如：<br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ grep -r admin /etc/</span><br></pre></td></tr></table></figure></div></p>
<p>参数 <code>-w</code> 表示只查找单词。关于 <code>grep</code>的更多信息，参见<a href="https://www.cyberciti.biz/faq/grep-in-bash" target="_blank" rel="noopener">这个链接</a></p>
<h3 id="h-nl"><a href="#h-nl" class="headerlink" title="h. nl"></a>h. <code>nl</code></h3><p>给文件添加行号并输出</p>
<p><em>example.txt</em><br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">Lorem ipsum</span><br><span class="line">dolor sit amet,</span><br><span class="line">consetetur</span><br><span class="line">sadipscing elitr,</span><br><span class="line">sed diam nonumy</span><br><span class="line">eirmod tempor</span><br><span class="line">invidunt ut labore</span><br><span class="line">et dolore magna</span><br><span class="line">aliquyam erat, sed</span><br><span class="line">diam voluptua. At</span><br><span class="line">vero eos et</span><br><span class="line">accusam et justo</span><br><span class="line">duo dolores et ea</span><br><span class="line">rebum. Stet clita</span><br><span class="line">kasd gubergren,</span><br><span class="line">no sea takimata</span><br><span class="line">sanctus est Lorem</span><br><span class="line">ipsum dolor sit</span><br><span class="line">amet.</span><br></pre></td></tr></table></figure></div></p>
<p><em>给 example.txt 中的内容添加行号并输出</em><br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nl -s<span class="string">". "</span> example.txt</span><br></pre></td></tr></table></figure></div></p>
<div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"> 1. Lorem ipsum</span><br><span class="line"> 2. dolor sit amet,</span><br><span class="line"> 3. consetetur</span><br><span class="line"> 4. sadipscing elitr,</span><br><span class="line"> 5. sed diam nonumy</span><br><span class="line"> 6. eirmod tempor</span><br><span class="line"> 7. invidunt ut labore</span><br><span class="line"> 8. et dolore magna</span><br><span class="line"> 9. aliquyam erat, sed</span><br><span class="line">10. diam voluptua. At</span><br><span class="line">11. vero eos et</span><br><span class="line">12. accusam et justo</span><br><span class="line">13. duo dolores et ea</span><br><span class="line">14. rebum. Stet clita</span><br><span class="line">15. kasd gubergren,</span><br><span class="line">16. no sea takimata</span><br><span class="line">17. sanctus est Lorem</span><br><span class="line">18. ipsum dolor sit</span><br><span class="line">19. amet.</span><br></pre></td></tr></table></figure></div>
<h3 id="i-sed"><a href="#i-sed" class="headerlink" title="i. sed"></a>i. <code>sed</code></h3><p>用于过滤和替换文本的流式编辑命令</p>
<p><em>example.txt</em><br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Hello This is a Test 1 2 3 4</span><br></pre></td></tr></table></figure></div></p>
<p><em>把 example.txt 所有空格替换为连字符并输出</em><br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sed <span class="string">'s/ /-/g'</span> example.txt</span><br></pre></td></tr></table></figure></div></p>
<div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Hello-This-is<span class="_">-a</span>-Test-1-2-3-4</span><br></pre></td></tr></table></figure></div>
<p><em>把所有数字替换为 “d”</em><br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sed <span class="string">'s/[0-9]/d/g'</span> example.txt</span><br></pre></td></tr></table></figure></div></p>
<div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Hello This is a Test d d d d</span><br></pre></td></tr></table></figure></div>
<h3 id="j-sort"><a href="#j-sort" class="headerlink" title="j. sort"></a>j. <code>sort</code></h3><p>对文件中的行进行排序</p>
<p><em>example.txt</em><br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">f</span><br><span class="line">b</span><br><span class="line">c</span><br><span class="line">g</span><br><span class="line">a</span><br><span class="line">e</span><br><span class="line">d</span><br></pre></td></tr></table></figure></div></p>
<p><em>对 example.txt 中的行进行排序</em><br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sort example.txt</span><br></pre></td></tr></table></figure></div></p>
<div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">a</span><br><span class="line">b</span><br><span class="line">c</span><br><span class="line">d</span><br><span class="line">e</span><br><span class="line">f</span><br><span class="line">g</span><br></pre></td></tr></table></figure></div>
<p><em>随机打乱已经排好序的 example.txt</em>（测试出现问题）// todo<br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sort example.txt | sort -R</span><br></pre></td></tr></table></figure></div></p>
<div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">b</span><br><span class="line">f</span><br><span class="line">a</span><br><span class="line">c</span><br><span class="line">d</span><br><span class="line">g</span><br><span class="line">e</span><br></pre></td></tr></table></figure></div>
<h3 id="k-tr"><a href="#k-tr" class="headerlink" title="k. tr"></a>k. <code>tr</code></h3><p>转换或删除字符</p>
<p><em>example.txt</em><br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Hello World Foo Bar Baz!</span><br></pre></td></tr></table></figure></div></p>
<p><em>把所有小写字母转换成大写字母</em><br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat example.txt | tr <span class="string">'a-z'</span> <span class="string">'A-Z'</span></span><br></pre></td></tr></table></figure></div></p>
<div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">HELLO WORLD FOO BAR BAZ!</span><br></pre></td></tr></table></figure></div>
<p><em>把所有的空格都转换为换行符</em><br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat example.txt | tr <span class="string">' '</span> <span class="string">'\n'</span></span><br></pre></td></tr></table></figure></div></p>
<div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Hello</span><br><span class="line">World</span><br><span class="line">Foo</span><br><span class="line">Bar</span><br><span class="line">Baz!</span><br></pre></td></tr></table></figure></div>
<h3 id="l-uniq"><a href="#l-uniq" class="headerlink" title="l. uniq"></a>l. <code>uniq</code></h3><p>统计或精简重复的行</p>
<p><em>example.txt</em><br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">a</span><br><span class="line">a</span><br><span class="line">b</span><br><span class="line">a</span><br><span class="line">b</span><br><span class="line">c</span><br><span class="line">d</span><br><span class="line">c</span><br></pre></td></tr></table></figure></div></p>
<p><em>输出 example.txt 中所有不重复的行(需要先进行排序, 否则相同行中间的行会被忽略)</em><br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sort example.txt | uniq</span><br></pre></td></tr></table></figure></div></p>
<div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a</span><br><span class="line">b</span><br><span class="line">c</span><br><span class="line">d</span><br></pre></td></tr></table></figure></div>
<p><em>输出去重后的所有行，并显示不重复行中每一行在原文件中的重复次数</em><br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sort example.txt | uniq -c</span><br></pre></td></tr></table></figure></div></p>
<div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">3 a</span><br><span class="line">2 b</span><br><span class="line">2 c</span><br><span class="line">1 d</span><br></pre></td></tr></table></figure></div>
<h3 id="m-wc"><a href="#m-wc" class="headerlink" title="m. wc"></a>m. <code>wc</code></h3><p>输出文件中的行、单词、字符个数。<br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wc filename</span><br></pre></td></tr></table></figure></div></p>
<p>示例：<br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ wc demo.txt</span><br><span class="line">7459   15915  398400 demo.txt</span><br></pre></td></tr></table></figure></div></p>
<p>demo.txt中有 <code>7459</code> 行, <code>15915</code> 个单词以及 <code>398400</code> 个字符.</p>
<h2 id="1-3-Directory-Operations"><a href="#1-3-Directory-Operations" class="headerlink" title="1.3. Directory Operations"></a>1.3. Directory Operations</h2><table><br>   <tr><br>      <td><a href="#a-cd">cd</a></td><br>      <td><a href="#b-mkdir">mkdir</a></td><br>      <td><a href="#c-pwd">pwd</a></td><br>   </tr><br></table>

<h3 id="a-cd"><a href="#a-cd" class="headerlink" title="a. cd"></a>a. <code>cd</code></h3><p>进入某个文件目录，执行：<br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span></span><br></pre></td></tr></table></figure></div></p>
<p>会进入 <code>home</code> 目录。这个命令接受一个可选的目录名称的参数，指示要进入的目录。<br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> dirname</span><br></pre></td></tr></table></figure></div></p>
<h3 id="b-mkdir"><a href="#b-mkdir" class="headerlink" title="b. mkdir"></a>b. <code>mkdir</code></h3><p>创建一个新文件夹<br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir dirname</span><br></pre></td></tr></table></figure></div></p>
<h3 id="c-pwd"><a href="#c-pwd" class="headerlink" title="c. pwd"></a>c. <code>pwd</code></h3><p>显示当前所在的文件目录（绝对路径）<br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">pwd</span></span><br></pre></td></tr></table></figure></div></p>
<h2 id="1-4-SSH-System-Info-amp-Network-Operations"><a href="#1-4-SSH-System-Info-amp-Network-Operations" class="headerlink" title="1.4. SSH, System Info &amp; Network Operations"></a>1.4. SSH, System Info &amp; Network Operations</h2><table><br>   <tr><br>      <td><a href="#a-bg">bg</a></td><br>      <td><a href="#b-cal">cal</a></td><br>      <td><a href="#c-date">date</a></td><br>      <td><a href="#d-df">df</a></td><br>      <td><a href="#e-dig">dig</a></td><br>      <td><a href="#f-du">du</a></td><br>      <td><a href="#g-fg">fg</a></td><br>      <td><a href="#h-finger">finger</a></td><br>      <td><a href="#i-jobs">jobs</a></td><br>      <td><a href="#j-last">last</a></td><br>   </tr><br>   <tr><br>      <td><a href="#k-man">man</a></td><br>      <td><a href="#l-passwd">passwd</a></td><br>      <td><a href="#m-ping">ping</a></td><br>      <td><a href="#n-ps">ps</a></td><br>      <td><a href="#o-quota">quota</a></td><br>      <td><a href="#p-scp">scp</a></td><br>      <td><a href="#q-ssh">ssh</a></td><br>      <td><a href="#r-top">top</a></td><br>      <td><a href="#s-uname">uname</a></td><br>      <td><a href="#t-uptime">uptime</a></td><br>   </tr><br>   <tr><br>      <td><a href="#u-w">w</a></td><br>      <td><a href="#v-wget">wget</a></td><br>      <td><a href="#w-whoami">whoami</a></td><br>      <td><a href="#x-whois">whois</a></td><br>   </tr><br></table>

<h3 id="a-bg"><a href="#a-bg" class="headerlink" title="a. bg"></a>a. <code>bg</code></h3><p>列出所有被停止或后台运行的任务，或将一个已停止的任务后台运行。</p>
<h3 id="b-cal"><a href="#b-cal" class="headerlink" title="b. cal"></a>b. <code>cal</code></h3><p>输出当前月份的日历</p>
<h3 id="c-date"><a href="#c-date" class="headerlink" title="c. date"></a>c. <code>date</code></h3><p>输出当前日期和时间</p>
<h3 id="d-df"><a href="#d-df" class="headerlink" title="d. df"></a>d. <code>df</code></h3><p>输出磁盘使用统计数据</p>
<h3 id="e-dig"><a href="#e-dig" class="headerlink" title="e. dig"></a>e. <code>dig</code></h3><p>输出某个域名的 DNS 信息<br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dig domain</span><br></pre></td></tr></table></figure></div></p>
<h3 id="f-du"><a href="#f-du" class="headerlink" title="f. du"></a>f. <code>du</code></h3><p>输出某些文件或目录的硬盘使用情况。更多详细信息参见<a href="http://www.linfo.org/du.html" target="_blank" rel="noopener">这个链接</a><br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">du [option] [filename|directory]</span><br></pre></td></tr></table></figure></div></p>
<p>Options:</p>
<ul>
<li><code>-h</code> (人类可读) 把结果以 KB、 MB 、GB 为单位输出。</li>
<li><code>-s</code> (压缩总结) 输出一个目录总的磁盘空间占用情况，总结输出子目录的报告。</li>
</ul>
<p>示例：<br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">du -sh pictures</span><br><span class="line">1.4M pictures</span><br></pre></td></tr></table></figure></div></p>
<h3 id="g-fg"><a href="#g-fg" class="headerlink" title="g. fg"></a>g. <code>fg</code></h3><p>输出前台中最近运行的任务</p>
<h3 id="h-finger"><a href="#h-finger" class="headerlink" title="h. finger"></a>h. <code>finger</code></h3><p>输出某个用户的信息<br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">finger username</span><br></pre></td></tr></table></figure></div></p>
<h3 id="i-jobs"><a href="#i-jobs" class="headerlink" title="i. jobs"></a>i. <code>jobs</code></h3><p>列出在后台运行的任务，同时给出任务号</p>
<h3 id="j-last"><a href="#j-last" class="headerlink" title="j. last"></a>j. <code>last</code></h3><p>列出特定用户的登录记录<br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">last yourUsername</span><br></pre></td></tr></table></figure></div></p>
<h3 id="k-man"><a href="#k-man" class="headerlink" title="k. man"></a>k. <code>man</code></h3><p>输出特定命令的使用手册<br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">man <span class="built_in">command</span></span><br></pre></td></tr></table></figure></div></p>
<h3 id="l-passwd"><a href="#l-passwd" class="headerlink" title="l. passwd"></a>l. <code>passwd</code></h3><p>让当前登录的用户更改他的密码</p>
<h3 id="m-ping"><a href="#m-ping" class="headerlink" title="m. ping"></a>m. <code>ping</code></h3><p>ping 某个主机然后输出结果<br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ping host</span><br></pre></td></tr></table></figure></div></p>
<h3 id="n-ps"><a href="#n-ps" class="headerlink" title="n. ps"></a>n. <code>ps</code></h3><p>列出某个用户的所有进程<br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ps -u yourusername</span><br></pre></td></tr></table></figure></div></p>
<h3 id="o-quota"><a href="#o-quota" class="headerlink" title="o. quota"></a>o. <code>quota</code></h3><p>显示磁盘使用量和配额<br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">quota -v</span><br></pre></td></tr></table></figure></div></p>
<h3 id="p-scp"><a href="#p-scp" class="headerlink" title="p. scp"></a>p. <code>scp</code></h3><p>在本地主机和远程主机之间或两个远程主机之间传输文件</p>
<p><em>从本地主机复制文件到远程主机</em><br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scp source_file user@host:directory/target_file</span><br></pre></td></tr></table></figure></div></p>
<p><em>从远程主机复制文件到本地主机</em><br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">scp user@host:directory/source_file target_file</span><br><span class="line">scp -r user@host:directory/source_folder target_folder</span><br></pre></td></tr></table></figure></div></p>
<p>这个命令也接受一个参数 <code>-P</code>，用来连接指定端口<br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scp -P port user@host:directory/source_file target_file</span><br></pre></td></tr></table></figure></div></p>
<h3 id="q-ssh"><a href="#q-ssh" class="headerlink" title="q. ssh"></a>q. <code>ssh</code></h3><p>ssh(SSH 客户端)是一个用来登录到远程主机并执行命令的程序<br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh user@host</span><br></pre></td></tr></table></figure></div></p>
<p>这个命令也接受一个可选参数 <code>-p</code>，用来指定连接到特定的端口。<br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -p port user@host</span><br></pre></td></tr></table></figure></div></p>
<h3 id="r-top"><a href="#r-top" class="headerlink" title="r. top"></a>r. <code>top</code></h3><p>动态展示所有活跃的进程</p>
<h3 id="s-uname"><a href="#s-uname" class="headerlink" title="s. uname"></a>s. <code>uname</code></h3><p>输出内核信息<br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uname -a</span><br></pre></td></tr></table></figure></div></p>
<h3 id="t-uptime"><a href="#t-uptime" class="headerlink" title="t. uptime"></a>t. <code>uptime</code></h3><p>输出服务器运行了多长时间以及有多少个用户登录</p>
<h3 id="u-w"><a href="#u-w" class="headerlink" title="u. w"></a>u. <code>w</code></h3><p>输出系统在线用户</p>
<h3 id="v-wget"><a href="#v-wget" class="headerlink" title="v. wget"></a>v. <code>wget</code></h3><p>下载文件<br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget file</span><br></pre></td></tr></table></figure></div></p>
<h3 id="w-whoami"><a href="#w-whoami" class="headerlink" title="w. whoami"></a>w. <code>whoami</code></h3><p>输出现在登录的用户的用户名</p>
<h3 id="x-whois"><a href="#x-whois" class="headerlink" title="x. whois"></a>x. <code>whois</code></h3><p>获取某个域名的 whois 信息<br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">whois domain</span><br></pre></td></tr></table></figure></div></p>
<h2 id="1-5-Process-Monitoring-Operations"><a href="#1-5-Process-Monitoring-Operations" class="headerlink" title="1.5. Process Monitoring Operations"></a>1.5. Process Monitoring Operations</h2><table><br>   <tr><br>      <td><a href="#a-kill">kill</a></td><br>      <td><a href="#b-killall">killall</a></td><br>      <td><a href="#c-&">&amp;</a></td><br>      <td><a href="#d-nohup">nohup</a></td><br>   </tr><br></table>

<h3 id="a-kill"><a href="#a-kill" class="headerlink" title="a. kill"></a>a. <code>kill</code></h3><p>结束指定 PID 代表的进程<br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">kill</span> PID</span><br></pre></td></tr></table></figure></div></p>
<h3 id="b-killall"><a href="#b-killall" class="headerlink" title="b. killall"></a>b. <code>killall</code></h3><p>结束某个名字代表的所有进程<br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">killall processname</span><br></pre></td></tr></table></figure></div></p>
<h3 id="c-amp"><a href="#c-amp" class="headerlink" title="c. &amp;"></a>c. &amp;</h3><p>使得 <code>&amp;</code> 之前的命令作为后台进程运行在 subshell 中<br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">command</span> &amp;</span><br></pre></td></tr></table></figure></div></p>
<h3 id="d-nohup"><a href="#d-nohup" class="headerlink" title="d. nohup"></a>d. <code>nohup</code></h3><p>nohup 代表 <code>No Hang Up</code>，也即不要挂起。这条命令允许其它命令、进程或shell脚本在你退出shell之后继续在后台运行<br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nohup <span class="built_in">command</span></span><br></pre></td></tr></table></figure></div></p>
<p>把它和 <code>&amp;</code> 结合使用可以创建后台进程<br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nohup <span class="built_in">command</span> &amp;</span><br></pre></td></tr></table></figure></div></p>
<h1 id="2-Basic-Shell-Programming"><a href="#2-Basic-Shell-Programming" class="headerlink" title="2. Basic Shell Programming"></a>2. Basic Shell Programming</h1><p>在 bash 脚本文件中的第一行被叫做 <code>shebang</code>。这一行决定了脚本可以像一个独立的可执行文件一样执行，而不用在终端之前输入<code>sh</code>,<code>bash</code>,<code>python</code>,<code>php</code>等。</p>
<div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br></pre></td></tr></table></figure></div>
<h2 id="2-1-Variables"><a href="#2-1-Variables" class="headerlink" title="2.1. Variables"></a>2.1. Variables</h2><p>在 bash 中创建变量跟其它语言相似。没有变量类型，bash 中的变量可以保存一个数字、一个字符、一个字符串等等。同时无需提前声明变量，给变量赋值会直接创建变量。</p>
<p>示例：<br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">str=<span class="string">"hello world"</span></span><br></pre></td></tr></table></figure></div></p>
<p>上面一行创建了一个变量 <code>str</code> 然后把 “hello world” 赋值给它。通过在变量名之前添加<code>$</code>符号，可以取到变量里面保存的值。</p>
<p>示例：<br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="variable">$str</span>   <span class="comment"># hello world</span></span><br></pre></td></tr></table></figure></div></p>
<h2 id="2-2-Array"><a href="#2-2-Array" class="headerlink" title="2.2. Array"></a>2.2. Array</h2><p>像其它语言一样，bash 也有数组类型。bash 中的数组是一个保存着很多值的变量，数组的长度没有限制，下标也是从 0 开始。在 bash 中有好几种方法创建一个数组，如下所示。</p>
<p>Examples:<br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">array[0] = val</span><br><span class="line">array[1] = val</span><br><span class="line">array[2] = val</span><br><span class="line">array=([2]=val [0]=val [1]=val)</span><br><span class="line">array=(val val val)</span><br></pre></td></tr></table></figure></div></p>
<p>使用如下语法获得数组特定位置的值：</p>
<div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$&#123;array[i]&#125;</span>     <span class="comment"># i是数组下标</span></span><br></pre></td></tr></table></figure></div>
<p>如果没有指定数组下标，默认返回第一个元素。想知道数组中有多少个元素，使用下面的语法：</p>
<div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$&#123;#array[@]&#125;</span></span><br></pre></td></tr></table></figure></div>
<p>Bash 也支持三元运算符，如下面的例子所示：</p>
<div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$&#123;varname:-word&#125;</span>    <span class="comment"># 如果 varname 存在而且不为 null，返回它的值，否则返回 word</span></span><br><span class="line"><span class="variable">$&#123;varname:=word&#125;</span>    <span class="comment"># 如果 varname 存在而且不为 null，返回它的值，否则把word赋值给它并且返回 word</span></span><br><span class="line"><span class="variable">$&#123;varname:+word&#125;</span>    <span class="comment"># 如果 varname 存在而且不为 null，返回 word，否则返回 null</span></span><br><span class="line"><span class="variable">$&#123;varname:offset:length&#125;</span>    <span class="comment"># 它返回 $varname 的子字符串，从 offset 处开始，长度为 length</span></span><br></pre></td></tr></table></figure></div>
<h2 id="2-3-String-Substitution"><a href="#2-3-String-Substitution" class="headerlink" title="2.3 String Substitution"></a>2.3 String Substitution</h2><p>通过下面的语法来学习字符串相关操作</p>
<div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$&#123;variable#pattern&#125;</span>         <span class="comment"># 如果 pattern 匹配变量值的起始部分，删除匹配 pattern 的最短的部分，然后返回剩余的</span></span><br><span class="line"><span class="variable">$&#123;variable##pattern&#125;</span>        <span class="comment"># 如果 pattern 匹配变量值的起始部分，删除匹配 pattern 的最长的部分，然后返回剩余的</span></span><br><span class="line"><span class="variable">$&#123;variable%pattern&#125;</span>         <span class="comment"># 如果 pattern 匹配变量值的结束部分，删除匹配 pattern 的最短的部分，然后返回剩余的</span></span><br><span class="line"><span class="variable">$&#123;variable%%pattern&#125;</span>        <span class="comment"># 如果 pattern 匹配变量值的结束部分，删除匹配 pattern 的最长的部分，然后返回剩余的</span></span><br><span class="line"><span class="variable">$&#123;variable/pattern/string&#125;</span>  <span class="comment"># 把变量值中匹配 pattern 的最长的部分替换为 string，只替换第一个匹配的部分</span></span><br><span class="line"><span class="variable">$&#123;variable//pattern/string&#125;</span> <span class="comment"># 把变量值中匹配 pattern 的最长的部分替换为 string，全局进行替换</span></span><br><span class="line"><span class="variable">$&#123;#varname&#125;</span>     <span class="comment"># 返回变量值作为一个字符串的长度</span></span><br></pre></td></tr></table></figure></div>
<h2 id="2-4-Functions"><a href="#2-4-Functions" class="headerlink" title="2.4. Functions"></a>2.4. Functions</h2><p>As in almost any programming language, you can use functions to group pieces of code in a more logical way or practice the divine art of recursion. Declaring a function is just a matter of writing . Calling a function is just like calling another program, you just write its name.<br>就像在其它编程语言中那样，您可以使用 function 来以更合乎逻辑的方式聚合代码，或实现递归的神圣艺术。声明一个 function 只需要写下<code>function my_func { my_code }</code> ，调用 function 就像调用另外的程序一样，使用方法名称即可。</p>
<div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">name</span></span>() &#123;</span><br><span class="line">    shell commands</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<p>示例：<br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="keyword">function</span> hello &#123;</span><br><span class="line">   <span class="built_in">echo</span> world!</span><br><span class="line">&#125;</span><br><span class="line">hello</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> say &#123;</span><br><span class="line">    <span class="built_in">echo</span> <span class="variable">$1</span></span><br><span class="line">&#125;</span><br><span class="line">say <span class="string">"hello world!"</span></span><br></pre></td></tr></table></figure></div></p>
<p>当你运行上面例子中的 hello 方法时，它会输出 “world!”。上面的两个方法 <code>hello</code> 和 <code>say</code> 一模一样的， <code>say</code> 有一些不同，这个方法会打印出它接受到的第一个参数。方法中的参数，跟脚本语言中的处理方式一样。</p>
<h2 id="2-5-Conditionals"><a href="#2-5-Conditionals" class="headerlink" title="2.5. Conditionals"></a>2.5. Conditionals</h2><p>bash 中的条件语句跟其他编程语言类似。条件语句有很多种形式，就像最常见的基本形式是 <code>if</code> 表达式 <code>then</code> 语句，代表如果表达式为真，则执行响应的语句。</p>
<div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> [expression]; <span class="keyword">then</span></span><br><span class="line">    will execute only <span class="keyword">if</span> expression is <span class="literal">true</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    will execute <span class="keyword">if</span> expression is <span class="literal">false</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure></div>
<p>有些时候如果条件语句变得太复杂，你可以用 <code>case statements</code> 来完成相同的条件判断功能。</p>
<div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">case</span> expression <span class="keyword">in</span></span><br><span class="line">    pattern1 )</span><br><span class="line">        statements ;;</span><br><span class="line">    pattern2 )</span><br><span class="line">        statements ;;</span><br><span class="line">    ...</span><br><span class="line"><span class="keyword">esac</span></span><br></pre></td></tr></table></figure></div>
<p>Expression Examples:</p>
<div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">statement1 &amp;&amp; statement2  <span class="comment"># 两个语句都为真</span></span><br><span class="line">statement1 || statement2  <span class="comment"># 至少一个语句为真</span></span><br><span class="line"></span><br><span class="line">str1=str2       <span class="comment"># str1 匹配 str2</span></span><br><span class="line">str1!=str2      <span class="comment"># str1 不匹配 str2</span></span><br><span class="line">str1&lt;str2       <span class="comment"># str1 小于 str2</span></span><br><span class="line">str1&gt;str2       <span class="comment"># str1 大于 str2</span></span><br><span class="line">-n str1         <span class="comment"># str1 不是 null (长度大于 0)</span></span><br><span class="line">-z str1         <span class="comment"># str1 是 null (长度为 0)</span></span><br><span class="line"></span><br><span class="line">-a file         <span class="comment"># 文件存在</span></span><br><span class="line">-d file         <span class="comment"># 文件存在而且是目录</span></span><br><span class="line">-e file         <span class="comment"># 文件存在，跟 -a 一样</span></span><br><span class="line">-f file         <span class="comment"># 文件存在，而且是常规文件（不是目录或者其他特殊类型的文件）</span></span><br><span class="line">-r file         <span class="comment"># 你有读权限</span></span><br><span class="line">-s file         <span class="comment"># 文件存在而且不为空</span></span><br><span class="line">-w file         <span class="comment"># 你有写权限</span></span><br><span class="line">-x file         <span class="comment"># 你对文件有执行权限，如果 file 是目录的话，你对它有搜索权限</span></span><br><span class="line">-N file         <span class="comment"># 从上次读之后文件被修改过</span></span><br><span class="line">-O file         <span class="comment"># 你是文件所有者</span></span><br><span class="line">-G file         <span class="comment"># 文件的 group ID 跟你的 group ID （或之一，如果你在很多分组里）相同</span></span><br><span class="line"></span><br><span class="line">file1 -nt file2     <span class="comment"># file1 比 file2 更新</span></span><br><span class="line">file1 -ot file2     <span class="comment"># file1 比 file2 更老</span></span><br><span class="line"></span><br><span class="line">-lt     <span class="comment"># 小于</span></span><br><span class="line">-le     <span class="comment"># 小于等于</span></span><br><span class="line">-eq     <span class="comment"># 等于</span></span><br><span class="line">-ge     <span class="comment"># 大于等于</span></span><br><span class="line">-gt     <span class="comment"># 大于</span></span><br><span class="line">-ne     <span class="comment"># 不等于</span></span><br></pre></td></tr></table></figure></div>
<h2 id="2-6-Loops"><a href="#2-6-Loops" class="headerlink" title="2.6. Loops"></a>2.6. Loops</h2><p>bash 中有三种类型的循环。<code>for</code>, <code>while</code> 和 <code>until</code>。</p>
<p>不同的 <code>for</code> 语法：<br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> x := 1 to 10 <span class="keyword">do</span></span><br><span class="line">begin</span><br><span class="line">  statements</span><br><span class="line">end</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> name [<span class="keyword">in</span> list]</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">  statements that can use <span class="variable">$name</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (( initialisation ; ending condition ; update ))</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">  statements...</span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure></div></p>
<p><code>while</code> 语法:<br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> condition; <span class="keyword">do</span></span><br><span class="line">  statements</span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure></div></p>
<p><code>until</code> 语法:<br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">until condition; <span class="keyword">do</span></span><br><span class="line">  statements</span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure></div></p>
<h1 id="3-Tricks"><a href="#3-Tricks" class="headerlink" title="3. Tricks"></a>3. Tricks</h1><h2 id="设置别名"><a href="#设置别名" class="headerlink" title="设置别名"></a>设置别名</h2><p>执行 <code>nano ~/.bash_profile</code> 来打开 <code>bash_profile</code>。</p>
<blockquote>
<p>alias dockerlogin=’ssh <a href="mailto:www-data@adnan.local" target="_blank" rel="noopener">www-data@adnan.local</a> -p2222’  # 在 .bash_profile 中设置别名</p>
</blockquote>
<h2 id="快速进入某个目录"><a href="#快速进入某个目录" class="headerlink" title="快速进入某个目录"></a>快速进入某个目录</h2><p>nano ~/.bashrc</p>
<blockquote>
<p>export hotellogs=”/workspace/hotel-api/storage/logs”</p>
</blockquote>
<div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">source</span> ~/.bashrc</span><br><span class="line"><span class="built_in">cd</span> <span class="variable">$hotellogs</span></span><br></pre></td></tr></table></figure></div>
<h2 id="跳出陷阱"><a href="#跳出陷阱" class="headerlink" title="跳出陷阱"></a>跳出陷阱</h2><p>通过执行清理语句使得你的脚本更有鲁棒性</p>
<div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> finish &#123;</span><br><span class="line">  <span class="comment"># 在这里执行清理语句，例如，杀掉所有 fork 的进程。</span></span><br><span class="line">  <span class="built_in">jobs</span> -p | xargs <span class="built_in">kill</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">trap</span> finish EXIT</span><br></pre></td></tr></table></figure></div>
<h2 id="保存环境变量"><a href="#保存环境变量" class="headerlink" title="保存环境变量"></a>保存环境变量</h2><p>当你在 shell 中执行  <code>export FOO = BAR</code>, 环境变量只在当前 shell 和它的子 shell 中存在，如果想在将来能够永久使用这个环境变量，只需要在 <code>~/.bash_profile</code> 文件后面添加要执行的命令即可。<br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="built_in">export</span> FOO=BAR &gt;&gt; ~/.bash_profile</span><br></pre></td></tr></table></figure></div></p>
<h2 id="访问你的脚本"><a href="#访问你的脚本" class="headerlink" title="访问你的脚本"></a>访问你的脚本</h2><p>通过在 home 目录下创建 bin 文件夹， 你可以很容易的访问你的脚本，<code>mkdir ~/bin</code> 之后，在 bin 目录里面的所有脚本都能在任何别的目录下访问到。</p>
<p>如果还是不能访问，把下面的代码添加到 <code>~/.bash_profile</code> 文件中，然后执行<code>source ~/.bash_profile</code>。<br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 如果用户的私有 bin 目录存在的话，把它添加到 PATH 变量中</span></span><br><span class="line"><span class="keyword">if</span> [ -d <span class="string">"<span class="variable">$HOME</span>/bin"</span> ] ; <span class="keyword">then</span></span><br><span class="line">    PATH=<span class="string">"<span class="variable">$HOME</span>/bin:<span class="variable">$PATH</span>"</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure></div></p>
<h1 id="4-调试"><a href="#4-调试" class="headerlink" title="4. 调试"></a>4. 调试</h1><p>你可以很容易地通过传递不同的参数给 <code>bash</code> 命令来调试脚本。例如， <code>-n</code> 将会只检查脚本的语法错误而不执行脚本。 <code>-v</code> 将会在命令执行前输出它们。 <code>-x</code> 将会在命令行处理之后输出命令。</p>
<div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">bash -n scriptname</span><br><span class="line">bash -v scriptname</span><br><span class="line">bash -x scriptname</span><br></pre></td></tr></table></figure></div>

      
    </div>
    
  </div>
  
  
</article>

  
    <article id="post-python之多线程模块threading" class="article global-container article-type-post" itemscope="" itemprop="blogPost">
  
    <header class="article-header">
      
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/12/26/python之多线程模块threading/">python之多线程模块threading</a>
    </h1>
  

    </header>
  
  <div class="article-meta">
    <a href="/2018/12/26/python之多线程模块threading/" class="article-date">
  <time datetime="2018-12-26T06:40:20.000Z" itemprop="datePublished">2018-12-26</time>
</a>
    
    
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/python/">python</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/threading/">threading</a></li></ul>

  </div>
  

  <div class="article-inner">
    
    <div class="article-content article-content-cloud" itemprop="articleBody">
      
        <h3 id="1，Thread-Objects"><a href="#1，Thread-Objects" class="headerlink" title="1，Thread Objects"></a>1，Thread Objects</h3><h4 id="class-threading-Thread-group-None-target-None-name-None-args-kwargs-daemon-None"><a href="#class-threading-Thread-group-None-target-None-name-None-args-kwargs-daemon-None" class="headerlink" title="class threading.Thread(group=None, target=None, name=None, args=(), kwargs={}, *, daemon=None)"></a>class threading.Thread(group=None, target=None, name=None, args=(), kwargs={}, *, daemon=None)</h4><p>一些参数：</p>
<ul>
<li>target：代表调用的函数</li>
<li>args：函数的参数元组</li>
<li>kwargs：函数的参数字典<h4 id="start"><a href="#start" class="headerlink" title="start()"></a>start()</h4>启动一个线程<h4 id="run"><a href="#run" class="headerlink" title="run()"></a>run()</h4>线程的活动，run()方法调用target传来的函数<h4 id="join"><a href="#join" class="headerlink" title="join()"></a>join()</h4>等到线程终止</li>
</ul>
<h3 id="2，Lock-Objects"><a href="#2，Lock-Objects" class="headerlink" title="2，Lock Objects"></a>2，Lock Objects</h3><h4 id="acquire"><a href="#acquire" class="headerlink" title="acquire()"></a>acquire()</h4><p>锁的获取</p>
<h4 id="release"><a href="#release" class="headerlink" title="release()"></a>release()</h4><p>锁的释放</p>
<h3 id="3，RLock-Objects"><a href="#3，RLock-Objects" class="headerlink" title="3，RLock Objects"></a>3，RLock Objects</h3><p> RLock允许在同一线程中被多次acquire。</p>
<div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">import threading</span><br><span class="line">lock = threading.Lock()</span><br><span class="line">#Lock对象</span><br><span class="line">lock.acquire()</span><br><span class="line">lock.acquire()</span><br><span class="line">#产生了死琐。</span><br><span class="line">lock.release()</span><br><span class="line">lock.release()</span><br><span class="line"></span><br><span class="line">import threading</span><br><span class="line">rLock = threading.RLock()</span><br><span class="line">#RLock对象</span><br><span class="line">rLock.acquire()</span><br><span class="line">rLock.acquire()</span><br><span class="line">#在同一线程内，程序不会堵塞。</span><br><span class="line">rLock.release()</span><br><span class="line">rLock.release()</span><br></pre></td></tr></table></figure></div>
<h3 id="4，Condition-Objects"><a href="#4，Condition-Objects" class="headerlink" title="4，Condition Objects"></a>4，Condition Objects</h3><p>可以把Condiftion理解为一把高级的琐，它提供了比Lock, RLock更高级的功能，允许我们能够控制复杂的线程同步问题。threadiong.Condition在内部维护一个琐对象（默认是RLock），可以在创建Condigtion对象的时候把琐对象作为参数传入。Condition也提供了acquire, release方法，其含义与琐的acquire, release方法一致，其实它只是简单的调用内部琐对象的对应的方法而已。Condition还提供wait方法、notify方法、notifyAll方法(特别要注意：这些方法只有在占用琐(acquire)之后才能调用，否则将会报RuntimeError异常。</p>
<h4 id="wait"><a href="#wait" class="headerlink" title="wait()"></a>wait()</h4><p>线程挂起，直到收到一个notify通知或者超时（可选的，浮点数，单位是秒s）才会被唤醒继续运行。wait()必须在已获得Lock前提下才能调用，否则会触发RuntimeError。调用wait()会释放Lock，直至该线程被Notify()、NotifyAll()或者超时线程又重新获得Lock.</p>
<h4 id="notify"><a href="#notify" class="headerlink" title="notify()"></a>notify()</h4><p>通知其他线程，那些挂起的线程接到这个通知之后会开始运行，默认是通知一个正等待该condition的线程,最多则唤醒n个等待的线程。notify()必须在已获得Lock前提下才能调用，否则会触发RuntimeError。notify()不会主动释放Lock。</p>
<h4 id="捉迷藏游戏"><a href="#捉迷藏游戏" class="headerlink" title="捉迷藏游戏"></a>捉迷藏游戏</h4><p> 现在写个捉迷藏的游戏来具体介绍threading.Condition的基本使用。假设这个游戏由两个人来玩，一个藏(Hider)，一个找(Seeker)。游戏的规则如下：1. 游戏开始之后，Seeker先把自己眼睛蒙上，蒙上眼睛后，就通知Hider；2. Hider接收通知后开始找地方将自己藏起来，藏好之后，再通知Seeker可以找了； 3. Seeker接收到通知之后，就开始找Hider。Hider和Seeker都是独立的个体，在程序中用两个独立的线程来表示，在游戏过程中，两者之间的行为有一定的时序关系，我们通过Condition来控制这种时序关系。</p>
<div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/python</span><br><span class="line">#coding: utf-8</span><br><span class="line"></span><br><span class="line">import threading, time</span><br><span class="line"></span><br><span class="line">def Seeker(cond, name):</span><br><span class="line">    time.sleep(2)</span><br><span class="line">    cond.acquire()</span><br><span class="line">    print(&apos;%s :我已经把眼睛蒙上了！&apos;% name)</span><br><span class="line">    cond.notify()</span><br><span class="line">    cond.wait()</span><br><span class="line">    for i in range(3):</span><br><span class="line">        print(&apos;%s is finding!!!&apos;% name)</span><br><span class="line">        time.sleep(2)</span><br><span class="line">    cond.notify()</span><br><span class="line">    cond.release()</span><br><span class="line">    print(&apos;%s :我赢了！&apos;% name)</span><br><span class="line"></span><br><span class="line">def Hider(cond, name):</span><br><span class="line">    cond.acquire()</span><br><span class="line">    cond.wait()</span><br><span class="line">    for i in range(2):</span><br><span class="line">        print(&apos;%s is hiding!!!&apos;% name)</span><br><span class="line">        time.sleep(3)</span><br><span class="line">    print(&apos;%s :我已经藏好了，你快来找我吧！&apos;% name)</span><br><span class="line">    cond.notify()</span><br><span class="line">    cond.wait()</span><br><span class="line">    cond.release()</span><br><span class="line">    print(&apos;%s :被你找到了，唉~^~!&apos;% name)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">if __name__ == &apos;__main__&apos;:</span><br><span class="line">    cond = threading.Condition()</span><br><span class="line">    seeker = threading.Thread(target=Seeker, args=(cond, &apos;seeker&apos;))</span><br><span class="line">    hider = threading.Thread(target=Hider, args=(cond, &apos;hider&apos;))</span><br><span class="line">    seeker.start()</span><br><span class="line">    hider.start()</span><br><span class="line">    seeker.join()</span><br><span class="line">    hider.join()</span><br></pre></td></tr></table></figure></div>
<h3 id="5，Event-Objects"><a href="#5，Event-Objects" class="headerlink" title="5，Event Objects"></a>5，Event Objects</h3><h4 id="is-set"><a href="#is-set" class="headerlink" title="is_set()"></a>is_set()</h4><p>当且仅当内部表示为True时返回True。如果set()没有设定，则说明为为False</p>
<h4 id="set"><a href="#set" class="headerlink" title="set()"></a>set()</h4><p>设定内部标志为True。所有线程等到它为真时，都会被唤醒。调用了wait()的线程，一旦检测到内部标志位True时，那么都不会继续阻塞了</p>
<h4 id="clear"><a href="#clear" class="headerlink" title="clear()"></a>clear()</h4><p>设定内部标识为False。随后，调用wait()的线程都会被阻塞，直到调用set()将内部标志设置为True</p>
<h4 id="wait-1"><a href="#wait-1" class="headerlink" title="wait()"></a>wait()</h4><p>阻塞线程，知道内部标志设置为True。如果内部标志在入口时为真，则立即返回。 否则，阻塞将持续到另一个线程调用set()将标志设置为true，或直到可选超时发生才会结束。此方法在退出时返回内部标志，因此除非给出超时且操作超时，否则它将始终返回True</p>
<h4 id="生产者消费者"><a href="#生产者消费者" class="headerlink" title="生产者消费者"></a>生产者消费者</h4><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/pyhton</span><br><span class="line">#coding: utf-8</span><br><span class="line"></span><br><span class="line">import threading</span><br><span class="line">import time</span><br><span class="line">from random import randint</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def customers(event, lists):</span><br><span class="line">    t = threading.current_thread()</span><br><span class="line">    while 1:</span><br><span class="line">        event.wait()</span><br><span class="line">        if event.is_set():</span><br><span class="line">            try:</span><br><span class="line">                i = lists.pop()</span><br><span class="line">                print(&apos;&#123;0&#125; is customed by &#123;1&#125;&apos;.format(i, t.name))</span><br><span class="line">                event.clear()   #阻塞所有线程</span><br><span class="line">            except IndexError:</span><br><span class="line">                pass</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def producer(event, lists):</span><br><span class="line">    t = threading.current_thread()</span><br><span class="line">    while 1:</span><br><span class="line">        i = randint(1, 30)</span><br><span class="line">        lists.append(i)</span><br><span class="line">        print(&apos;&#123;0&#125; is produced by &#123;1&#125;&apos;.format(i, t.name))</span><br><span class="line">        event.set()     #唤醒其他线程</span><br><span class="line">        time.sleep(1)    #没有实际意义，为了结果输出时看的清楚点。</span><br><span class="line"></span><br><span class="line">def main():</span><br><span class="line">    threads = []</span><br><span class="line">    lists = []</span><br><span class="line">    event = threading.Event()</span><br><span class="line"></span><br><span class="line">    for name in (&apos;customer1&apos;, &apos;customer2&apos;):</span><br><span class="line">        thread = threading.Thread(target=customers, args=(event, lists))</span><br><span class="line">        threads.append(thread)</span><br><span class="line">        thread.start()</span><br><span class="line"></span><br><span class="line">    produce_thread = threading.Thread(target=producer, args=(event, lists))</span><br><span class="line">    threads.append(produce_thread)</span><br><span class="line">    produce_thread.start()</span><br><span class="line"></span><br><span class="line">    for thread in threads:</span><br><span class="line">        thread.join()</span><br><span class="line"></span><br><span class="line">if __name__ == &apos;__main__&apos;:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure></div>
<h3 id="参考文章"><a href="#参考文章" class="headerlink" title="参考文章"></a>参考文章</h3><p><a href="https://www.cnblogs.com/chengd/articles/7770898.html" target="_blank" rel="noopener">Python3入门之线程threading常用方法</a></p>
<p><a href="https://www.jianshu.com/p/653cfc4bda55" target="_blank" rel="noopener">threading模块</a></p>
<p><a href="https://docs.python.org/3.6/library/threading.html" target="_blank" rel="noopener">官方文档</a></p>

      
    </div>
    
  </div>
  
  
</article>

  
    <article id="post-github上部署hexo博客" class="article global-container article-type-post" itemscope="" itemprop="blogPost">
  
    <header class="article-header">
      
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/12/25/github上部署hexo博客/">github上部署hexo博客</a>
    </h1>
  

    </header>
  
  <div class="article-meta">
    <a href="/2018/12/25/github上部署hexo博客/" class="article-date">
  <time datetime="2018-12-25T13:56:01.000Z" itemprop="datePublished">2018-12-25</time>
</a>
    
    
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/hexo/">hexo</a></li></ul>

  </div>
  

  <div class="article-inner">
    
    <div class="article-content article-content-cloud" itemprop="articleBody">
      
        <h2 id="一，node-js和git的安装"><a href="#一，node-js和git的安装" class="headerlink" title="一，node.js和git的安装"></a>一，node.js和git的安装</h2><h3 id="1-新安装好git后，我们需要进行一下设置（必须）"><a href="#1-新安装好git后，我们需要进行一下设置（必须）" class="headerlink" title="1, 新安装好git后，我们需要进行一下设置（必须）"></a>1, 新安装好git后，我们需要进行一下设置（必须）</h3><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#设置用户名和用户邮箱</span><br><span class="line">git config --global user.name &quot;user_name&quot;</span><br><span class="line">git config --global user.email &quot;email@example.com&quot;</span><br></pre></td></tr></table></figure></div>
<h3 id="2，创建SSH-key"><a href="#2，创建SSH-key" class="headerlink" title="2，创建SSH key"></a>2，创建SSH key</h3><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa –C “email@example.com”</span><br></pre></td></tr></table></figure></div>
<p>创建过程中一路按回车即可，然后到保存秘钥的文件夹下，可以发现两个文件id_rsa和id_rsa.pub，分别为私钥和公钥。</p>
<p>在github的个人账户的setting的选项中添加ssh key，复制公钥的内容到key。<br><img src="http://img1.sycdn.imooc.com/59c1d7ef0001c75411330860.png" alt="image"></p>
<h3 id="3，node-js安装"><a href="#3，node-js安装" class="headerlink" title="3，node.js安装"></a>3，node.js安装</h3><p>官网下载msi安装包，直接安装就好了</p>
<h2 id="二，hexo的安装"><a href="#二，hexo的安装" class="headerlink" title="二，hexo的安装"></a>二，hexo的安装</h2><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g hexo-cli</span><br></pre></td></tr></table></figure></div>
<p>初始化自己的博客</p>
<div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo init &lt;blog_file_name&gt;</span><br></pre></td></tr></table></figure></div>
<p>运行看看自己的博客，访问<a href="http://localhost:4000/" target="_blank" rel="noopener">http://localhost:4000/</a></p>
<div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd &lt;blog_file_name&gt;</span><br><span class="line">hexo server</span><br></pre></td></tr></table></figure></div>
<h2 id="三，把博客部署到github"><a href="#三，把博客部署到github" class="headerlink" title="三，把博客部署到github"></a>三，把博客部署到github</h2><p>博客文件夹下有这么个文件，_config.yml，这个是博客的配置文件</p>
<p>修改deploy的配置，注意type前面有两个空格，冒号后面有一个空格</p>
<div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">deploy:</span><br><span class="line">  type: git</span><br><span class="line">  repo: https://github.com/wupyweb/wupyweb.github.io.git</span><br><span class="line">  branch: master</span><br></pre></td></tr></table></figure></div>
<p>部署到github，依次运行下面两个命令<br><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo g</span><br><span class="line">hexo d</span><br></pre></td></tr></table></figure></div></p>
<p>不出意外的话，这样就部署成功了</p>
<h2 id="四，更换主题"><a href="#四，更换主题" class="headerlink" title="四，更换主题"></a>四，更换主题</h2><p><a href="https://hexo.io/themes/" target="_blank" rel="noopener">hexo主题官网</a></p>
<p>上面这个网站有很多主题供下载，下载好后替换themes中默认主题，然后在_config.yml中修改为自己下载的主题</p>
<div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">theme: aircloud</span><br></pre></td></tr></table></figure></div>
<h2 id="五，新建文章"><a href="#五，新建文章" class="headerlink" title="五，新建文章"></a>五，新建文章</h2><div class="highlight-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new [layout] &lt;title&gt;</span><br></pre></td></tr></table></figure></div>
<table>
<thead>
<tr>
<th>布局</th>
<th>路径</th>
</tr>
</thead>
<tbody>
<tr>
<td>post</td>
<td>source/_posts</td>
</tr>
<tr>
<td>page</td>
<td>source</td>
</tr>
<tr>
<td>draft</td>
<td>source/_drafts</td>
</tr>
</tbody>
</table>
<p>在source文件夹下能看到我们新建的文章，为md格式的文件，语法为markdown</p>

      
    </div>
    
  </div>
  
  
</article>

  



</section>
        <aside id="sidebar">
  
    <div class="widget-box">
  <div class="avatar-box">
    <img class="avatar" src="/images/avatar.jpg" title="图片来自网络">
    <h3 class="avatar-name">
      
        wufujie
      
    </h3>
    <p class="avatar-slogan">
      code for fun.
    </p>
  </div>
</div>


  
    

  
    
  <div class="widget-box">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/bash/">bash</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/centos7/">centos7</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/">git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/">hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/html/">html</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/logging/">logging</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/python/">python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/queue/">queue</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/threading/">threading</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/yum/">yum</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-box">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/bash/" style="font-size: 10px;">bash</a> <a href="/tags/centos7/" style="font-size: 10px;">centos7</a> <a href="/tags/git/" style="font-size: 10px;">git</a> <a href="/tags/hexo/" style="font-size: 15px;">hexo</a> <a href="/tags/html/" style="font-size: 10px;">html</a> <a href="/tags/logging/" style="font-size: 10px;">logging</a> <a href="/tags/python/" style="font-size: 20px;">python</a> <a href="/tags/queue/" style="font-size: 10px;">queue</a> <a href="/tags/threading/" style="font-size: 10px;">threading</a> <a href="/tags/yum/" style="font-size: 10px;">yum</a>
    </div>
  </div>

  
    
  <div class="widget-box">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">December 2018</a></li></ul>
    </div>
  </div>

  
    
  <div class="widget-box">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2019/01/21/HTML入门/">HTML入门</a>
          </li>
        
          <li>
            <a href="/2019/01/16/python之queue模块/">python之queue模块</a>
          </li>
        
          <li>
            <a href="/2019/01/15/python之logging模块/">python之logging模块</a>
          </li>
        
          <li>
            <a href="/2019/01/02/centos7-yum基本使用及更换清华源/">centos7 yum基本使用及更换清华源</a>
          </li>
        
          <li>
            <a href="/2018/12/31/git提交忽略文件或文件夹/">git提交忽略文件或文件夹</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
      </div>
      <footer id="footer">
  <div class="foot-box global-width">
    &copy; 2019 wufujie &nbsp;&nbsp;
    Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    &nbsp;|&nbsp;主题 <a href="https://github.com/yiluyanxia/hexo-theme-antiquity">antiquity</a>
    <br>
    <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span id="busuanzi_container_site_pv">不蒜子告之   阁下是第<span id="busuanzi_value_site_pv"></span>个访客</span>
  </div>
</footer>
      <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>

<script src="/js/jquery-2.0.3.min.js"></script>

  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



    </div>
    <nav id="mobile-nav" class="mobile-nav-box">
  <div class="mobile-nav-img mobile-nav-top"></div>
  
    <a href="/" class="mobile-nav-link">首页</a>
  
    <a href="/archives" class="mobile-nav-link">归档</a>
  
    <a href="/music" class="mobile-nav-link">听音乐</a>
  
  <div class="mobile-nav-img  mobile-nav-bottom"></div>
</nav>    
  </div>
</body>
</html>